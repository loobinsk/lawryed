{% load static i18n %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>{% block title %}Lawyerd{% endblock title %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

  <!-- Bootstrap JS and its dependencies-->

    {#  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"#}
    {#          integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>#}

  <script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
          integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
          integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


  <link rel="icon" href="{% static 'images/favicons/favicon.ico' %}">

    {% block css %}
      <!-- Latest compiled and minified Bootstrap CSS -->
        {#      <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"#}
        {#            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">#}

      <!-- Your stuff: Third-party CSS libraries go here -->
      <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.css">


      <!-- This file stores project-specific CSS -->
      <link href="{% static 'css/project.css' %}" rel="stylesheet">


      <!-- добавила -->
        {#    <link rel="stylesheet" href="{% static 'css/bootsrap.min.css' %}">#}
      <link href="https://use.fontawesome.com/releases/v5.10.2/css/all.css" rel="stylesheet">
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        {#      <link rel="stylesheet" href="{% static 'css/style.css' %}">#}
      <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
      <!-- добавила -->


      <!-- Favicons -->
      <link href="img/favicon.png" rel="icon">
        {#      <link href="img/apple-touch-icon.png" rel="apple-touch-icon">#}

      <!-- Google Fonts -->
      <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700|Open+Sans:300,300i,400,400i,700,700i" rel="stylesheet">

      <!-- Bootstrap CSS File -->
      <link href="{% static 'css/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">

      <!-- Libraries CSS Files -->
      <link href="{% static 'css/animate/animate.min.css' %}" rel="stylesheet">
        {#  <link href="{% static 'animate/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet">#}
      <link href="{% static 'css/ionicons/css/ionicons.min.css' %}" rel="stylesheet">
      <link href="{% static 'css/magnific-popup/magnific-popup.css' %}" rel="stylesheet">


      <!-- Datatables -->
      <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
      <script src="//cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
      <script src="//cdn.datatables.net/plug-ins/1.10.19/dataRender/datetime.js"></script>

      <script src="https://momentjs.com/downloads/moment-with-locales.min.js"></script>
      <!-- Datatables -->

      <!-- Lightbox -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.min.js"></script>
      <!-- Lightbox -->


      <!-- Select DropDown -->
      <!-- Latest compiled and minified CSS -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.12/dist/css/bootstrap-select.min.css">
      <!-- Latest compiled and minified JavaScript -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.12/dist/js/bootstrap-select.min.js"></script>
      <!-- (Optional) Latest compiled and minified JavaScript translation files -->
        {#      <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.12/dist/js/i18n/defaults-*.min.js"></script>#}
      <!-- Select DropDown -->


      <!-- Main Stylesheet File -->
        {#  <link href="css/style.css" rel="stylesheet">#}







    {% endblock %}
    {% block extra_css %}{% endblock %}

</head>

<body class="bg
         {% if request.resolver_match.url_name == 'home' and not request.user.is_authenticated %}
          bg_image_main
        {% elif request.resolver_match.url_name == 'account_login' %}
          bg_cloud_login
        {% elif request.resolver_match.url_name == 'account_logout' %}
          bg_cloud_login
        {% elif request.resolver_match.url_name == 'account_signup' %}
          bg_cloud_registration
        {% endif %}
">
{% include "header.html" %}


<main class="container-fluid" role="main">
    {#  <li><a href="{% url 'pricing' %}">Pricing</a></li>#}


    {% include "plans/expiration_messages.html" %}

  <!-- Flash message -->
    {% if messages %}
        {% for message in messages %}
          <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">{{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          </div>
        {% endfor %}
    {% endif %}
  <!-- Flash message -->


  <!-- Modal -->
  <div class="modal fade" id="loadingModal" tabindex="-1" role="dialog" aria-labelledby="loadMeLabel">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <div class="modal-body text-center">
          <div class="loader"></div>
          <div class="loader-txt">
            <p>{% trans "You request in progress" %} <br><br><small>{% trans "Please wait" %}... </small></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal -->


    {% block content %}{% endblock %}

    {##}

    {##}
    {#  <!-- JavaScript Libraries -->#}
    {#  <script src="{% static 'jquery/jquery.min.js' %}"></script>#}
    {#  <script src="{% static 'jquery/jquery-migrate.min.js' %}"></script>#}
    {#  <script src="{% static 'bootstrap/js/bootstrap.bundle.min.js' %}"></script>#}
    {#  <script src="{% static 'easing/easing.min.js' %}"></script>#}
    {#  <script src="{% static 'wow/wow.min.js' %}"></script>#}
    {#  <script src="{% static 'superfish/hoverIntent.js' %}"></script>#}
    {#  <script src="{% static 'superfish/superfish.min.js' %}"></script>#}
    {#  <script src="{% static 'magnific-popup/magnific-popup.min.js' %}"></script>#}
    {##}
    {#  <!-- Contact Form JavaScript File -->#}
    {#  <script src="{% static 'contactform/contactform.js' %}"></script>#}
    {##}
    {#  <!-- Template Main Javascript File -->#}
    {#  <script src="{% static 'js/main.js' %}"></script>#}
</main>

<!-- /container -->


{% include "footer.html" %}


{% block modal %}{% endblock modal %}

<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
{% block javascript %}
  <script>
      // https://www.jqueryscript.net/form/Pretty-Input-Type=File-Replacement-with-jQuery-FileInput.html

      $.ajaxSetup({
          data: {csrfmiddlewaretoken: '{{ csrf_token }}'},
      });


      // modal
      let loadingModal = $("#loadingModal");

      let actionInProgress = false;
      let nextActionQueue = [];

      function showModal(modal) {
          if (actionInProgress) {
              nextActionQueue.push({
                  id: modal.attr('id'),
                  action: showModal
              });
              return;
          }

          actionInProgress = true;
          modal.on('shown.bs.modal', showCompleted);
          modal.modal("show");

          function showCompleted() {
              actionInProgress = false;
              modal.off('shown.bs.modal', showCompleted);
              if (nextActionQueue.length > 0) {
                  let next = nextActionQueue.shift();
                  next.action($("#" + next.id));
              }
          }
      }

      function hideModal(modal) {
          if (actionInProgress) {
              nextActionQueue.push({
                  id: modal.attr('id'),
                  action: hideModal
              });
              return;
          }

          actionInProgress = true;
          modal.on('hidden.bs.modal', hideCompleted);
          modal.modal("hide");

          function hideCompleted() {
              actionInProgress = false;
              modal.off('hidden.bs.modal', hideCompleted);
              if (nextActionQueue.length > 0) {
                  let next = nextActionQueue.shift();
                  next.action($("#" + next.id));
              }
          }
      }

      /*
      $("#btnShow").click(function () {
          showModal(loadingModal);
          hideModal(loadingModal);
          showModal(loadingModal);
          hideModal(loadingModal);
          setTimeout(function () {
              showModal(loadingModal);
              hideModal(loadingModal);
          }, 500);
      });

      $("#btnProblem").click(function () {
          //simulate a loading screen finishing fast, followed by another loading screen
          loadingModal.modal("show");
          loadingModal.modal("hide");
          loadingModal.modal("show");
      });
      */

      let $loading = $('#spinnerModal');

      function SpinnerShow() {
          console.log("Spinner show");
          showModal(loadingModal);
      }

      function SpinnerHide() {
          console.log("Spinner hide");
          hideModal(loadingModal);
      }

      // modal
      function sleep(ms) {
          ms += new Date().getTime();
          while (new Date() < ms) {
          }
      }

      function numberWithCommas(x) {
          return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      }

      function isUrlValid(url) {
          return /^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(url);
      }
  </script>



  <!-- добавила -->

    {#      <script src="{% static 'js/plugin.js' %}"></script>#}
    {#      <script src="{% static 'js/script.js' %}"></script>#}



  <!-- добавила -->


  <!-- Your stuff: Third-party javascript libraries go here -->
  <!-- place project specific Javascript in this file -->

    {#  <script src="{% static 'js/project.js' %}"></script>#}


{% endblock javascript %}

{% block extra_js %}{% endblock %}

</body>
</html>
